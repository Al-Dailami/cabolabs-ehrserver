<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
            <title>Ocean Informatics vEHR Service Interface - Specifications - openEHR Wiki</title>
    
        

                        
    
    
            
<meta id="confluence-context-path" name="confluence-context-path" content="/wiki">
<meta id="atlassian-token" name="atlassian-token" content="qgXi3s2p1p">
<meta id="confluence-space-key" name="confluence-space-key" content="spec">

<script type="text/javascript">
    // Deprecated global variables. To be removed in a future version of Confluence.
    var contextPath = '/wiki';
</script>

    

<!-- include system css resources -->
<link type="text/css" rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/batch.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/wiki/s/1724/1/1/_/download/superbatch/css/batch.css?ieonly=true" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/batch_002.css" media="print">
<link type="text/css" rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/com.css" media="all">
<link type="text/css" rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/confluence.css" media="all">
<link type="text/css" rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/confluence_002.css" media="all">

<!-- end system css resources -->

    <link rel="stylesheet" href="Ocean+Informatics+vEHR+Service+Interface_files/combined.css" type="text/css">

    <meta name="confluence-request-time" content="1351168687461">

<meta name="loggedInUsername" content="">

    <link rel="shortcut icon" href="http://www.openehr.org/wiki/favicon.ico">
    <link rel="icon" type="image/png" href="http://www.openehr.org/wiki/s/1724/1/_/images/logo/confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="http://www.openehr.org/wiki/opensearch/osd.action" title="openEHR Wiki">

        <!-- include system javascript resources -->
                        
    
    <script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/batch.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/com_002.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/com.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/confluence_002.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/confluence.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/engine.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/util.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/AddLabeltoEntity.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/RemoveLabelFromEntity.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/SuggestedLabelsForEntity.js"></script>
<script type="text/javascript" src="Ocean+Informatics+vEHR+Service+Interface_files/confluence_003.js"></script>

    <!-- end system javascript resources -->

    

    
    <link rel="canonical" href="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface">
    <link rel="shortlink" href="http://www.openehr.org/wiki/x/EoCi">
    <meta name="wikilink" content="[spec:Ocean Informatics vEHR Service Interface]">

</head>

<body onload="placeFocus()" id="com-atlassian-confluence" class="">
<div id="full-height-container">



<fieldset class="hidden parameters">
    <input id="statusDialogHeading" value="What are you working on?" type="hidden">
    <input id="statusDialogLatestLabel" value="Last update:" type="hidden">
    <input id="statusDialogUpdateButtonLabel" value="Update" type="hidden">
    <input id="statusDialogCancelButtonLabel" value="Cancel" type="hidden">
</fieldset>

<fieldset class="hidden parameters">
    <input id="globalSettingsAttachmentMaxSize" value="10485760" type="hidden">
    <input id="userLocale" value="en_GB" type="hidden">
    <input id="staticResourceUrlPrefix" value="/wiki/s/1724/1/_" type="hidden">
    <input id="contextPath" value="/wiki" type="hidden">
</fieldset>

    
<div id="header" class="">
        <form id="quick-search" class="quick-search" method="get" action="/wiki/dosearchsite.action">
        <fieldset>
            <legend>Quick Search</legend>
            <input value="Search" class="quick-search-query placeholded" id="quick-search-query" accesskey="q" autocomplete="off" name="queryString" size="25" type="text">
            <input class="quick-search-submit" id="quick-search-submit" value="Search" type="submit">
            <div class="aui-dd-parent quick-nav-drop-down"><!-- Quick nav appears here --></div>
        </fieldset>
        <fieldset class="hidden parameters">
            <input id="quickNavEnabled" value="true" type="hidden">
                    </fieldset>
    </form>
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div style="" class="ajs-drop-down hidden" hidden="">
                        <ul id="browse-menu-link-leading" class="section-leading first">
                                        <li>
    
        
    
    <a id="space-pages-link" href="http://www.openehr.org/wiki/pages/listpages.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Pages</span></a>        </li>
                                        <li>
    
        
    
    <a id="space-blogposts-link" href="http://www.openehr.org/wiki/pages/viewrecentblogposts.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Blog</span></a>        </li>
                                        <li>
    
        
    
    <a id="space-labels-link" href="http://www.openehr.org/wiki/labels/listlabels-heatmap.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Labels</span></a>        </li>
                                        <li>
    
        
    
    <a id="space-attachments-link" href="http://www.openehr.org/wiki/spaces/listattachmentsforspace.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Attachments</span></a>        </li>
                                        <li>
    
        
    
    <a href="http://www.openehr.org/wiki/spaces/space-bookmarks.action?spaceKey=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Bookmarks</span></a>        </li>
                                        <li>
    
        
    
    <a id="space-mail-link" href="http://www.openehr.org/wiki/spaces/viewmailarchive.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Mail</span></a>        </li>
                                        <li>
    
        
    
    <a id="space-advanced-link" href="http://www.openehr.org/wiki/spaces/viewspacesummary.action?key=spec" class="" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Advanced</span></a>        </li>
                            </ul>
                        <ul id="browse-menu-link-global" class="section-global">
                                        <li>
    
        
    
    <a id="gadget-directory-link" href="http://www.openehr.org/wiki" class="user-item administration-link" title="Browse gadgets provided by Confluence">
                   <span>Confluence Gadgets</span></a>        </li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
        
        
    
    <a id="login-link" href="http://www.openehr.org/wiki/login.action?os_destination=%2Fdisplay%2Fspec%2FOcean%2BInformatics%2BvEHR%2BService%2BInterface" class="user-item login-link">
                   <span>Log In</span></a>        </li>
                            <li class="ajs-menu-item normal">
    
        
    
    <a id="signup-link" href="http://www.openehr.org/wiki/signup.action" class="user-item signup-link">
                   <span>Sign Up</span></a>        </li>
                            </ul>
    
    
    <ol id="breadcrumbs">
                    
        <li class="first">
                                    <span><a href="http://www.openehr.org/wiki/dashboard.action">Dashboard</a></span>
                </li>
                    
        <li>
                                    <span><a href="http://www.openehr.org/wiki/display/spec">Specifications</a></span>
                </li>
                                        <li id="ellipsis" title="    …
                    Specifications Home
             &gt;         openEHR Service Model
        …
"><span><strong>…</strong></span></li>
                                    
        <li class="hidden-crumb">
                                    <span><a href="http://www.openehr.org/wiki/display/spec/Specifications+Home">Specifications Home</a></span>
                </li>
                                
        <li class="hidden-crumb">
                                    <span><a href="http://www.openehr.org/wiki/display/spec/openEHR+Service+Model">openEHR Service Model</a></span>
                </li>
                    
        <li>
                                    <span><a href="http://www.openehr.org/wiki/display/spec/vEHR+Service+Specification">vEHR Service Specification</a></span>
                </li>
                    
        <li>
                                    <span>Ocean Informatics vEHR Service Interface</span>
                </li>
        </ol>

</div>
<div id="main">
    
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input id="pageId" value="10649618" type="hidden">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
                        
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div style="" class="ajs-drop-down most-right-menu-item hidden" hidden="">
                        <ul id="action-menu-link-primary" class="section-primary first">
                                        <li>
    
        
    
    <a id="view-attachments-link" href="http://www.openehr.org/wiki/pages/viewpageattachments.action?pageId=10649618" class="action-view-attachments" accesskey="a">
                   <span><u>A</u>ttachments (0)</span></a>        </li>
                                        <li>
    
        
    
    <a id="action-view-history-link" href="http://www.openehr.org/wiki/pages/viewpreviousversions.action?pageId=10649618" class="action-view-history">
                   <span>Page History</span></a>        </li>
                                        <li>
    
        
    
    <a id="action-page-permissions-link" href="http://www.openehr.org/wiki/pages/viewinfo.action?pageId=10649618" class="action-page-permissions">
                   <span>Restrictions</span></a>        </li>
                            </ul>
                        <ul id="action-menu-link-secondary" class="section-secondary">
                                        <li>
    
        
    
    <a id="view-page-info-link" href="http://www.openehr.org/wiki/pages/viewinfo.action?pageId=10649618" class="action-view-info" accesskey="i">
                   <span><u>I</u>nfo</span></a>        </li>
                                        <li>
    
        
    
    <a id="link-to-page-link" href="http://www.openehr.org/wiki/pages/viewinfo.action?pageId=10649618" class="">
                   <span>Link to this Page…</span></a>        </li>
                                        <li>
    
        
    
    <a id="action-view-source-link" href="http://www.openehr.org/wiki/pages/viewpagesrc.action?pageId=10649618" class="action-view-source popup-link">
                   <span>View Wiki Markup</span></a>        </li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    
    <h1 id="title-heading" class="pagetitle">
                    <a href="http://www.openehr.org/wiki/display/spec"><img class="logo global custom" src="Ocean+Informatics+vEHR+Service+Interface_files/global.logo" alt=""></a>        
		<span id="title-text">
					            <a href="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface">Ocean Informatics vEHR Service Interface</a>
    				</span>
    </h1>

    

    
    
    
    <div id="content" class="page view">
        


<fieldset id="link-to-page-fields" class="hidden parameters">
    <input id="linkToThisPageHeading" value="Link to this Page" type="hidden">
    <input id="linkToThisPageLink" value="Link" type="hidden">
    <input id="linkToThisPageTinyLink" value="Tiny Link" type="hidden">
    <input id="linkToThisPageWikiMarkup" value="Wiki Markup" type="hidden">
    <input id="linkToThisPageClose" value="Close" type="hidden">
</fieldset>
    <fieldset class="hidden parameters">
    <input title="movePageDialogViewPageTitle" value="Move Page – ‘Ocean Informatics vEHR Service Interface’" type="hidden">
    <input title="movePageDialogEditPageTitle" value="Set Page Location" type="hidden">
    <input title="movePageDialogMoveButton" value="Move" type="hidden">
    <input title="movePageDialogOkButton" value="OK" type="hidden">
    <input title="movePageDialogCancelButton" value="Cancel" type="hidden">
    <input title="movePageDialogBrowsePanelTip" value="Click to select the new parent page for this page and its children." type="hidden">
    <input title="movePageDialogSearchPanel" value="Search" type="hidden">
    <input title="movePageDialogHistoryPanel" value="Recently Viewed" type="hidden">
    <input title="movePageDialogHistoryNoResults" value="There were no recently viewed pages found." type="hidden">
    <input title="movePageDialogLocationPanel" value="Known Location" type="hidden">
    <input title="movePageDialogLocationNotFound" value="The specified page was not found." type="hidden">
    <input title="movePageDialogBrowsePanel" value="Browse" type="hidden">
    <input title="movePageDialogPanelLoadErrorMsg" value="Error reading the panel content from the server." type="hidden">
    <input title="movePageDialogPanelLoadErrorTip" value="You could try reloading the page and launching the dialog again." type="hidden">
    <input title="movePageDialogPanelLoadErrorStatus" value="HTTP Status" type="hidden">
    <input title="movePageDialogNoSelectionErrorMsg" value="You must make a selection in the tree before you can move the page." type="hidden">
    <input title="movePageDialogSearchError" value="Failed to retrieve search results from the server." type="hidden">
    <input title="movePageDialogSearchNoResults" value="There were no pages found containing &lt;b&gt;{0}&lt;/b&gt;." type="hidden">
    <input title="movePageDialogSearchResultCount" value="Showing &lt;b&gt;{0}&lt;/b&gt;-&lt;b&gt;{1}&lt;/b&gt; of &lt;b&gt;{2}&lt;/b&gt; pages containing &lt;b&gt;{3}&lt;/b&gt;." type="hidden">
    <input title="movePageDialogMoveFailed" value="Move failed. There was a problem contacting the server." type="hidden">
    <input title="movePageDialogCannotChangeSpace" value="You cannot move this page to another space because you do not have permission to remove it from this space." type="hidden">
    <input title="pageTitle" value="Ocean Informatics vEHR Service Interface" type="hidden">
    <input title="parentPageTitle" value="vEHR Service Specification" type="hidden">
    <input title="fromPageTitle" value="" type="hidden">
    <input title="spaceKey" value="spec" type="hidden">
    <input title="spaceName" value="Specifications" type="hidden">
    <input title="movePageDialogInvalidLocation" value="You cannot move a page to be underneath itself or its children." type="hidden">
</fieldset>

<script type="text/x-template" title="movePageDialog">
    <div class="row information">
        Specify the new parent page for this page and its children by space and title.
    </div>
    <div class="form">
        <div class="row">
            <label for="new-space">New space:</label>
            <div class="value new-space-value">
                <input id="new-space-key" name="new-space-key" type="hidden" value="spec">
                                    <span class="space-input">
                        <input id="new-space" name="new-space" value="Specifications" disabled="disabled">
                    </span>
                    <span class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</span>
                                <div class="new-space-dropdown aui-dd-parent"></div>
            </div>
        </div>
        <div class="row">
            <label for="new-parent-page">New parent page:</label>
            <div class="value new-parent-page-value">
                <span class="page-input">
                    <input id="new-parent-page" name="new-parent-page" value="vEHR Service Specification">
                </span>
                <span class="description">Start typing a page title to see a list of suggestions.</span>
                <div class="new-parent-page-dropdown aui-dd-parent"></div>
            </div>
        </div>
    </div>
    <div class="location-info">
        <div class="row">
            <label>Current location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="current-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <label>New location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="new-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageErrors">
    <div id="move-errors" class="hidden warning"></div>
</script>
<script type="text/x-template" title="movePageBreadcrumb">
    <li><a class="{2}" title="{3}" tabindex="-1"><span>{0}</span></a></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbLoading">
    <li class="loading"><span>Loading breadcrumbs&hellip;</span></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbError">
    <li class="warning last"><span>Error retrieving breadcrumbs.</span></li>
</script>
<script type="text/x-template" title="movePageNoMatchingPages">
    <ol><li><span class="warning">No matching pages found.</span></li></ol>
</script>
<script type="text/x-template" title="movePageNoMatchingSpaces">
    <ol><li><span class="warning">No matching spaces found.</span></li></ol>
</script>

<script type="text/x-template" title="movePageSearchPanel">
<div class="row information">
    Search for and select the new parent page for this page and its children.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-form">
        <input class="search-query">
                    <select class="search-space" disabled="disabled">
                <option value="spec" selected="selected">Specifications</option>
            </select>
                <input type="button" value="Search">
                    <div class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</div>
            </div>
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageSearchResult">
    <tr class="search-result">
        <th class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></th>
        <td class="search-result-space"><a class="space" href="/wiki/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
<script type="text/x-template" title="movePageSearchResultsCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="movePageSearchResultsTable">
    <table>
        <tr class="header">
            <th class="search-result-title">Page Title</th>
            <th class="search-result-space">Space</th>
            <th class="search-result-date">Updated</th>
        </tr>
    </table>
</script>
<script type="text/x-template" title="movePageSearchResultsLoading">
    <div class="searching">Searching…</div>
</script>

<script type="text/x-template" title="movePageHistoryPanel">
<div class="row information">
    Select the new parent page for this page and its children from your history.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageHistoryLoading">
    <div class="searching">Loading…</div>
</script>


<script type="text/x-template" title="movePageBrowsePanel">
    <div class="row information">
        Click to select the new parent page for this page and its children.
    </div>
    <div class="tree"></div>
</script>
<script type="text/x-template" title="movePageBrowsePanelLoading">
    <span>Loading…</span>
</script>
<script type="text/x-template" title="movePageBrowsePanelSpace">
    <ul><li id='tree-root-node-item' class='root-node-list-item'><a class='root-node' href='#'>{0}</a></li></ul>
</script>

    <!-- Start restrictions section -->
<fieldset class="hidden parameters i18n">
        <input id="i18n.page.perms.error.invalid.entity.names" value="Unknown user or group:" type="hidden">
        <input id="i18n.page.perms.dialog.heading" value="Page Restrictions" type="hidden">
        <input id="i18n.page.perms.editing.restricted.to" value="Editing restricted to:" type="hidden">
        <input id="i18n.cancel.name" value="Cancel" type="hidden">
        <input id="i18n.close.name" value="Close" type="hidden">
        <input id="i18n.update.name" value="Save" type="hidden">
</fieldset>

<script type="text/x-template" title="page-permissions-div">
<div id="page-permissions-div">
    <div id="page-permissions-editor-form">

                <div id="page-permissions-error-div" class="hidden">
            <a href="#" id="permissions-error-div-close">Ok</a>
            <div></div>
        </div>

                <div id="page-permissions-type-radios" class="page-permissions-label-rows">
            <div>
                <input id="restrictViewRadio" type="radio" checked="checked" name="pagePermissionTypeRadio" value="view"/>
                <label for="restrictViewRadio">Restrict viewing of this page</label>
                <input id="restrictEditRadio" type="radio" name="pagePermissionTypeRadio" value="edit"/>
                <label for="restrictEditRadio">Restrict editing of this page</label>
            </div>
        </div>
        <div id="page-permissions-input" class="page-permissions-label-rows">
            <div class="page-permissions-label">To:</div>
            <div id="page-permissions-chooser-box">
                                <span id="page-permissions-choose-user" class="ajs-button">
                    



    



<a href="#" id='userpicker-popup-link-image' onClick="var picker = window.open('/wiki/spaces/openuserpicker.action?key=spec&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;"><img src="/wiki/s/1724/1/_/images/icons/user_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose users" /></a>
<a href="#" id='userpicker-popup-link-text' onClick="var picker = window.open('/wiki/spaces/openuserpicker.action?key=spec&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;">Person...</a>


                </span>
                <span id="page-permissions-choose-group" class="ajs-button">
                    



    

 

<a href="#" id='grouppicker-popup-link-image' onClick="var picker = window.open('/wiki/spaces/opengrouppicker.action?key=spec&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;"><img src="/wiki/s/1724/1/_/images/icons/group_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose groups" /></a>
<a href="#" id='grouppicker-popup-link-text' onClick="var picker = window.open('/wiki/spaces/opengrouppicker.action?key=spec&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;">Group...</a>


                </span>
            </div>
            <div id="page-permissions-input-box">
                                <span>
                    <input type="text" id="page-permissions-names-input" class="input-placeholder" value="Enter user or group name" name="permissionNames" size="30" autocomplete="off"/>
                </span>
                <input
    type="hidden"
                            id="page-permissions-names-hidden"           />                <img height="16px" width="1px" src="/wiki/s/1724/1/_/images/border/spacer.gif"/>
                <input type="button" id="add-typed-names" value="Restrict">
            </div>
        </div>
    </div>
    <div id="page-permissions-tables">
        <div id="page-permissions-table-div">
                        <table id="page-permissions-table" class="page-permissions-table">
                <tr id="page-permissions-no-views" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No view restrictions are defined for this page</span></td>
                </tr>
                <tr id="page-permissions-no-edits" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No edit restrictions are defined for this page</span></td>
                </tr>
            </table>
        </div>
        <div id="page-inherited-permissions-table-div" class="hidden">
            <span id="page-inherited-permissions-table-desc">
                <a class="icon twisty-closed">Show/Hide</a>
                <a id="toggle-inherited-permissions" title="Click to see inherited restrictions">This page has restricted parent pages. It can only be seen by users who can see those parent pages.</a>
            </span>
            <div id="page-inherited-permissions-tables" class="hidden page-inheritance-togglable"></div>
        </div>
    </div>
</div>
</script>

<script type="text/x-template" title="permissions-row-template">
    <tr class="permission-row">
                                
                <td class="page-permissions-marker-cell" width="20%">
            <span>Viewing restricted to:</span>
        </td>
                <td class="permission-entity" nowrap="true" width="40%">
            <span class="entity-container">
                <img class="permission-entity-picture"/>
                <span class="permission-entity-display-name"></span>
                <span class="permission-entity-name-wrap">&nbsp;(<span class="permission-entity-name"></span>)</span>
            </span>
        </td>
        <td class="permission-detail-column">
            <div class="permission-remove-div">
                <a href="#" class="remove-permission-link">Remove restriction</a>
            </div>
        </td>
    </tr>
</script>
<script type="text/x-template" title="permissions-username-no-suggestion-template">
    <ol>
        <li><a href="#" class="message"><span>No matches</span></a></li>
    </ol>
</script>
<script type="text/x-template" title="page-inherited-permissions-table-div-template">
        <div class="page-inherited-permissions-owner-div">
        <div class="page-inherited-permissions-table-desc">Viewing restrictions apply to “<a></a>”. In order to see “<span></span>”, a user must be in the following list of users and groups:</div>
        <table class="page-permissions-table"></table>
    </div>
</script>
<script type="text/x-template" title="page-restrictions-help-link">
    <div class="dialog-help-link">
            <a href="http://confluence.atlassian.com/display/DOC/Page+Restrictions" target="_blank">Help</a>
    </div>
</script>
<!-- End restrictions section -->


        
    
    
        <fieldset class="hidden parameters">
            <input title="parentPageId" value="6553629" type="hidden">
        </fieldset>
    
        
                            
    

                    

        
        <div class="page-metadata">
    <ul>
                    <li class="page-metadata-item noprint">
    
            
    
    <a id="content-metadata-page-restrictions" href="#" class="page-metadata-icon page-restrictions hidden" title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Page restrictions apply</span></a>        </li>
                <li class="page-metadata-modification-info">
                    Added by <a class="url fn" href="http://www.openehr.org/wiki/display/%7Ethomas.beale">Thomas Beale</a>, last edited by <a class="url fn" href="http://www.openehr.org/wiki/display/%7Ethomas.beale">Thomas Beale</a> on 06-Aug-2012
                                        <span class="noprint">&nbsp;(<a id="view-change-link" href="http://www.openehr.org/wiki/pages/diffpages.action?pageId=10649618&amp;originalId=37191685">view change</a>)</span>
                            </li>
            </ul>
      <div id="version-comment" class="noteMacro" style="display: none;">
      <strong>Comment:</strong>
      <br>
  </div>
</div>        
        <fieldset class="hidden parameters">
                        <input title="browsePageTreeMode" value="view" type="hidden">
        </fieldset>            

        <div class="wiki-content">
           <!-- wiki content -->
            <h2><a name="OceanInformaticsvEHRServiceInterface-Introduction"></a>Introduction</h2>

<p>EhrGate is the Ocean Informatics virtual EHR middleware component. It
 can be deployed server-side or client-side, and is fully compliant to <em>open</em>EHR release 1.0.2. It uses standards AOM 1.4 archetypes and Ocean templates, which will be migrated to the <a href="http://www.openehr.org/wiki/pages/viewpage.action?pageId=196633" title="openEHR ADL &amp; AOM 1.5">forthcoming openEHR template specification</a>. The following interfaces reflect the API as of early 2010. Things that might be desirable to do in contributing to an <em>open</em>EHR vEHR specification:</p>
<ul>
	<li>don't include initialisation functions</li>
	<li>reduce statefulness of the interface</li>
</ul>



<h2><a name="OceanInformaticsvEHRServiceInterface-Specification"></a>Specification</h2>


<h4><a name="OceanInformaticsvEHRServiceInterface-Initialisation"></a>Initialisation</h4>

<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> Description <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Signature <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Details </th>
</tr>
<tr>
<td class="confluenceTd"> <b>Create EhrGate  Instance</b> <br class="atl-forced-newline">
Creates an EhrGate instance with no session context </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">static</span>
IEhrGate Create()
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Returns</b> <br class="atl-forced-newline">
EhrGate object </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Create  EhrGate Instance With Session Context</b> <br class="atl-forced-newline">
Create new instance of EhrGate object that links to an <br class="atl-forced-newline">
existing EhrGate  session context. This allows multiple <br class="atl-forced-newline">
instances of EhrGate to link to the same  EhrGate session <br class="atl-forced-newline">
context. </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-keyword">static</span>
IEhrGate Create(string sessionTicket)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>sessionTicket</em>: ticket of existing EhrGate session <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
EhrGate object </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Authenticate User</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">string
AuthenticateUser(string userId,
                 string password)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>userId</em>: user identifier <br class="atl-forced-newline">
<em>password</em>: user password <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
authentication token </td>
</tr>
</tbody></table>
</div>


<h4><a name="OceanInformaticsvEHRServiceInterface-SessionManagement"></a>Session Management</h4>

<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> Description <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Signature <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Details <br class="atl-forced-newline"> </th>
</tr>
<tr>
<td class="confluenceTd"> <b>Open Session</b>Obtains a session in the server; creates an <br class="atl-forced-newline">
EhrGate session proxy object containing the <br class="atl-forced-newline">
id, and returns a ticket for subsequent <br class="atl-forced-newline">
access to this object. <br class="atl-forced-newline"> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">string
OpenSession(string userId,
            string authenticationToken)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>userId</em>: user identifier used by EHR service to <br class="atl-forced-newline">
&nbsp;audit log all  operations against the user <br class="atl-forced-newline">
<em>authenticationToken</em>: authentication token  returned <br class="atl-forced-newline">
by AuthenticateUser or another agreed authentication token <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
session ticket identifying the new EhrGate session <br class="atl-forced-newline">
(NOT equal to the EHR service session ID) </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Close Session</b>Use the current EhrGate session ticket to call <br class="atl-forced-newline">
EHR service CloseSession using the  associated session ID. </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
CloseSession()
</pre>
</div></div> </td>
<td class="confluenceTd">&nbsp;</td>
</tr>
</tbody></table>
</div>



<h4><a name="OceanInformaticsvEHRServiceInterface-RecordManagement"></a>Record Management</h4>


<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> Description <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Signature <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Details <br class="atl-forced-newline"> </th>
</tr>
<tr>
<td class="confluenceTd"> <b>Create EHR</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">HierObjectId
CreateEhr(EhrStatus ehrStatus,
          PartyProxy committer,
          PartyRef gatekeeper)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>ehrStatus</em>: EHR status details of the new EHR, this may  include the <br class="atl-forced-newline">
external subject identifier and demographic source namespace  identifier <br class="atl-forced-newline">
<em>committer</em>: committing party that created the EHR <br class="atl-forced-newline">
<em>gateKeeper</em>:  details of the party responsible for allocating EHR access, <br class="atl-forced-newline">
null indicates the  EHR subject <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
EHR identifier </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Find EHR</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">HierObjectId
FindEhrId(string subjectId,
          string subjectIdNamespace)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>subjectId</em>: subject identifier within a demographic  source <br class="atl-forced-newline">
<em>subjectIdNamespace</em>: namespace identifier of the demographic source <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
EHR identifier </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Open EHR</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
OpenEhr(HierObjectId ehrId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>ehrId</em>: Identifier of EHR to open an empty context </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Use EHR</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
UseEhr(HierObjectId ehrId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>ehrId</em>: Identifier of EHR to set as current context </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Close EHR</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
CloseEhr(HierObjectId ehrId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>ehrId</em>: Identifier of EHR to close </td>
</tr>
</tbody></table>
</div>


<h4><a name="OceanInformaticsvEHRServiceInterface-ContributionManagement"></a>Contribution Management</h4>

<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> Description <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Signature <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Details <br class="atl-forced-newline"> </th>
</tr>
<tr>
<td class="confluenceTd"> <b>Create  Contribution</b> <br class="atl-forced-newline">
Create Contribution context </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
CreateContribution()
</pre>
</div></div> </td>
<td class="confluenceTd">&nbsp;</td>
</tr>
<tr>
<td class="confluenceTd"> <b>Has Contribution</b> <br class="atl-forced-newline">
Contribution context exists </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">bool
HasContribution { get; }
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Returns</b> <br class="atl-forced-newline">
true when current EHR has a contribution context </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Commit  Contribution</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
CommitContribution(PartyProxy committer,
                   string comment,
                   DvCodedText changeType)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>committer</em>: details of committing party <br class="atl-forced-newline">
<em>comment</em>:   description of contribution <br class="atl-forced-newline">
<em>changeType</em>: type of change the  contribution makes  to EHR </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Rollback   Contribution</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
RollbackContribution()
</pre>
</div></div> </td>
<td class="confluenceTd">&nbsp;</td>
</tr>
</tbody></table>
</div>


<h4><a name="OceanInformaticsvEHRServiceInterface-DataCreationandModification"></a>Data Creation and Modification</h4>

<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"> Description <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Signature <br class="atl-forced-newline"> </th>
<th class="confluenceTh"> Details <br class="atl-forced-newline"> </th>
</tr>
<tr>
<td class="confluenceTd"> <b>Create New   Composition</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
CreateComposition(string templateId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>templateId</em>: identifier of a template  or archetype which  will define the <br class="atl-forced-newline">
type of the new composition <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder object </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Create New   Composition Data</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
CreateComposition(Composition composition)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>composition</em>: openEHR composition data  to be added to the  existing <br class="atl-forced-newline">
contribution <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder object containing  the provided  composition data </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Modify  Existing  Composition</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
ModifyComposition(HierObjectId compositionId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>compositionId</em>: versioned composition  identifier to be  modified <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder for a revision of  the composition  populated <br class="atl-forced-newline">
with preceding data </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Modify   existing composition against template</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
ModifyComposition(HierObjectId compositionId,
                  string templateId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>compositionId</em>: versioned composition  identifier to be  modified <br class="atl-forced-newline">
templateId: identifier of template for  validation <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder for a revision of  the composition </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Modify  existing  composition data</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
ModifyComposition(ObjectVersionId precedingVersionUid,
                  Composition composition)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>precedingVersionUid</em>: version UID of  preceding  composition version <br class="atl-forced-newline">
composition: composition data of the  new composition  version <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder for a revision of  the composition  populated with the <br class="atl-forced-newline">
provided composition data </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Replace  existing  composition</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ICompositionBuilder
ModifyComposition(HierObjectId compositionId,
                  string templateId,
                  bool populateComposition)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>compositionId</em>: versioned composition  identifier to be  modified <br class="atl-forced-newline">
<em>templateId</em>: identifier of template for   validation <br class="atl-forced-newline">
<em>populateComposition</em>: false does not copy data from  preceding  version <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
composition builder for a revision of  the composition </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Delete Composition</b> <br class="atl-forced-newline">
Adds a new version, which doesn't have data, <br class="atl-forced-newline">
of an existing  composition into  the current <br class="atl-forced-newline">
contribution. </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
DeleteComposition(HierObjectId compositionId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
compositionId: Versioned composition  UID <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
The composition builder interface of the new  composition  version </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Get  candidate  compositions</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IResultSet
GetCandidateCompositions(string resultSetId,
                         string[] compositionPaths,
                         ArchetypeId compositionArchetypeId,
                         string compositionCriteria)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>resultSetId</em>: identifier of  resultset in EHR context <br class="atl-forced-newline">
<em>compositionPaths</em>: paths of  attributes to return <br class="atl-forced-newline">
<em>compositionArchetypeId</em>:  filter by  composition archetype, null indicates no  filter <br class="atl-forced-newline">
<em>compositionCriteria</em>:  filter by attribute criteria, null indicates no  filter <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
table of composition attributes </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Get Composition</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IComposition
GetComposition(HierObjectId compositionId,
               string versionTime)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>compositionId</em>: versioned composition   identifier <br class="atl-forced-newline">
<em>versionTime</em>:
<ul>
	<li>'latest_version' retrieves latest version,</li>
	<li>'all_versions' retrieves all version <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
specified version of composition or  latest version when   'all_versions'    are retrieved </li>
</ul>
</td>
</tr>
<tr>
<td class="confluenceTd"> <b>Get composition version</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IComposition
GetComposition(ObjectVersionId versionUid)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>versionUid</em>: composition version  identifier <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
specified composition </td>
</tr>
</tbody></table>
</div>


<h4><a name="OceanInformaticsvEHRServiceInterface-FinegrainedContentCreation"></a>Fine-grained Content Creation</h4>

<p>There are various ways to create the fine-grained content of Compositions in EhrGate.</p>
<ul>
	<li>The most basic way is to use the generic Composition building functions.</li>
	<li>Another common way is via the use of a Template Data Object (TDO), which is a programming artefact generated from an <em>open</em>EHR template. <a href="http://www.openehr.org/wiki/display/spec/Ocean+EhrGate+-+Composition+Builder+programming+example" title="Ocean EhrGate - Composition Builder programming example">This example</a> shows its use.</li>
</ul>



<h4><a name="OceanInformaticsvEHRServiceInterface-Queries"></a>Queries</h4>

<div class="table-wrap">
<table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh">&nbsp;</th>
<th class="confluenceTh">&nbsp;</th>
<th class="confluenceTh">&nbsp;</th>
</tr>
<tr>
<td class="confluenceTd"> <b>Register Query</b> <br class="atl-forced-newline">
Register Query in Query Manager </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">void
RegisterQuery(string queryId,
              string queryStatement)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: identifier used to register query in Query  Manager <br class="atl-forced-newline">
<em>queryStatement</em>: Archetype Query Language statement </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Has Registered Query</b> <br class="atl-forced-newline">
Query exists in Query Manager </td>
<td class="confluenceTd"> <br class="atl-forced-newline">  
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">bool
HasRegisteredQuery(string queryId)
</pre>
</div></div>
<p> </p></td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: identifier used to register query in Query  Manager <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
true if queryId exists in Query Manager </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Query Compositions</b> <br class="atl-forced-newline">
Retrieves composition version result set for <br class="atl-forced-newline">
specified "composition" query  from EhrBank and <br class="atl-forced-newline">
adds them to the current EHR context <br class="atl-forced-newline"> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">string[]
QueryCompositions(string queryId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: Identifer of the composition query to be  executed <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
Set of composition identifiers fro the compositions  retrieved </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Execute predefined  Query</b> <br class="atl-forced-newline">
Executes registered query or predefined EHR query <br class="atl-forced-newline">
against current EHR and  returns the results. The <br class="atl-forced-newline">
registered AQL query corresponding to the given <br class="atl-forced-newline">
queryId  must have ehr_id predicate and the ehr_id <br class="atl-forced-newline">
value specified in the query must be  the same as <br class="atl-forced-newline">
the current EHR ehr_id. <br class="atl-forced-newline">
The results are maintained in the Virtual  EHR <br class="atl-forced-newline">
result sets collection. A current EHR must be in use. </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IResultSet
ExecuteQuery(string queryId,
             bool replaceExisting)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: identifier of query to execute, results stored  in EHR context using this identifier <br class="atl-forced-newline">
<em>replaceExisting</em>: if result set exists,  it is replaced with new results <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
table of selected data objects </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Execute Query  Statement</b> <br class="atl-forced-newline">
Executes specified query statement against current <br class="atl-forced-newline">
EHR and returns the  results. <br class="atl-forced-newline">
The results are maintained in the Virtual EHR result <br class="atl-forced-newline">
sets collection. <br class="atl-forced-newline">
A  current EHR must be in use. The query statement <br class="atl-forced-newline">
must not contain parameters. The  query must have <br class="atl-forced-newline">
ehr_id predicate and the ehr_id value specified in the <br class="atl-forced-newline">
query  must be the same as the <br class="atl-forced-newline">
current EHR ehr_id value. </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IResultSet
ExecuteQuery(string queryId,
             string queryStatement)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: Query ID <br class="atl-forced-newline">
<em>queryStatement</em>: AQL query statement  with no parameters. <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
Results of the query </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Run Registered Query</b> <br class="atl-forced-newline">
Executes a registered query or predefined EHR query. <br class="atl-forced-newline">
Results are held on the server and are retrieved using <br class="atl-forced-newline">
RetrieveResults. When  a current EHR is not in use, a <br class="atl-forced-newline">
registered query with no parameters must be  specified. <br class="atl-forced-newline">
When a current EHR is in use, the query must have <br class="atl-forced-newline">
ehr_id predicate  specified, such as <br class="atl-forced-newline">
.. FROM EHR [ehr_id/value='xxx'], <br class="atl-forced-newline">
and the ehr_id/value value must be the same as the <br class="atl-forced-newline">
current EHR ehr_id value. If ehr_id/value value  is a <br class="atl-forced-newline">
parameter, then the value associated with the ehr_id <br class="atl-forced-newline">
parameter must be the same as the current EHR <br class="atl-forced-newline">
ehr_id. <br class="atl-forced-newline"> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"><span class="code-object">int</span>
RunQuery(string queryId)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: Identifier of a registered query or previously  created EHR query <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
total number of results </td>
</tr>
<tr>
<td class="confluenceTd"> <b>Retrieve Query  Results</b> </td>
<td class="confluenceTd"> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">IResultSet
RetrieveResults(string queryId,
                <span class="code-object">int</span> maxResults)
</pre>
</div></div> </td>
<td class="confluenceTd"> <b>Parameters</b> <br class="atl-forced-newline">
<em>queryId</em>: identifier of query results to  retrieve <br class="atl-forced-newline">
<em>maxResults</em>: number of results to return, 0 returns all results <br class="atl-forced-newline">
<b>Returns</b> <br class="atl-forced-newline">
next set of results until all retrieved </td>
</tr>
</tbody></table>
</div>
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface"
    dc:identifier="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface"
    dc:title="Ocean Informatics vEHR Service Interface"
    trackback:ping="http://www.openehr.org/wiki/rpc/trackback/10649618"/>
</rdf:RDF>
-->

            


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input id="editLabel" value="Edit" type="hidden">
    <input id="addLabel" value="Add Labels" type="hidden">
    <input id="domainName" value="http://www.openehr.org/wiki" type="hidden">
    <input id="pageId" value="10649618" type="hidden">
    <input id="spaceKey" value="spec" type="hidden">
</fieldset>

<div id="labels-section" class="pageSection">
    <div id="default-labels-header" class="section-header">
        <h2 id="labels-section-title" class="section-title  hidden ">Labels</h2>
            </div>

    <div class="labels-editor">
        <div id="labelsList">
                    </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>
                <div id="label-input-fields">
                    <input autocomplete="off" id="labelsString" name="labelsString" size="40">
                    <input id="add-labels-editor-button" class="add-labels" value="Add" type="submit">
                    <input id="close-labels-editor-button" class="hide-labels-editor" value="Done" type="submit">
                </div>
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="Ocean+Informatics+vEHR+Service+Interface_files/wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div id="labelsAutocompleteList" class="aui-dd-parent"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>

                    <div id="children-section" class="pageSection">
        
        <div class="section-header ">
            <h2 id="children-section-title" class="section-title">
                <a name="children">Children (1)</a>
            </h2>
            <span class="noprint">
                &nbsp;
                                    <a id="hide-children-link" class="grey" href="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface?showChildren=false#children">Hide Children</a>
                
                &nbsp;|&nbsp; <a class="grey" href="http://www.openehr.org/wiki/pages/listpages-dirview.action?key=spec&amp;openId=10649618#selectedPageInHierarchy">View in Hierarchy</a>
                            </span>
        </div>
                    <div id="page-children" class="pageSectionBody">
                                                     <img src="Ocean+Informatics+vEHR+Service+Interface_files/docs_16.gif" title="Ocean EhrGate - Composition Builder programming example" align="absmiddle" border="0" height="16" width="16">
                         <a href="http://www.openehr.org/wiki/display/spec/Ocean+EhrGate+-+Composition+Builder+programming+example">Ocean EhrGate - Composition Builder programming example</a>
                             <br>
                            </div>
                </div>
    
            




            
    
    


<fieldset class="parameters hidden">
    <input id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?" type="hidden">
    <input id="collapseTooltip" value="Click to toggle the display of this comment." type="hidden">
</fieldset>






<div id="comments-section" class="pageSection">
    
    
    
    
                                    </div>


            
</div>
    <br class="clear">
</div>

<div id="footer">
                                                <p class="license license-community">
                  Powered by a free <b>Atlassian Confluence Community License</b> granted to The openEHR Foundation . <a href="http://www.atlassian.com/c/conf/11460">Evaluate Confluence today</a>.<br>
                </p>
                            <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="smalltext">Atlassian Confluence</a> 3.1.1, the <a href="http://www.atlassian.com/software/confluence" class="smalltext">Enterprise Wiki</a>.</li>
        <li class="print-only">Printed by Atlassian Confluence 3.1.1, the Enterprise Wiki.</li>
        <li class="noprint"><a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="smalltext">Bug/feature request</a> –</li>
        <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="smalltext">Atlassian News</a> –</li>
        <li class="noprint"><a href="http://www.openehr.org/wiki/administrators.action">Contact administrators</a></li>
    </ul>

    

            
    </div>    <!-- include system javascript resources -->
                        
    
    
    <!-- end system javascript resources -->
</div>


<iframe id="inline-dialog-shim" src="javascript:false;" frameborder="0"></iframe><div style="display: none;" id="inline-dialog-shadow"><div class="tl"></div><div class="tr"></div><div class="l"></div><div class="r"></div><div class="bl"></div><div class="br"></div><div class="b"></div></div><div style="margin-top: -105px; margin-left: -316px; width: 632px; height: 239px; display: none;" class="shadow"><div class="tl"></div><div class="tr"></div><div style="height: 193px;" class="l"></div><div style="height: 193px;" class="r"></div><div class="bl"></div><div class="br"></div><div style="width: 574px;" class="b"></div></div><div style="margin-top: -105px; margin-left: -300px; width: 600px; height: 210px; background: none repeat scroll 0% 0% rgb(255, 255, 255); display: none;" id="link-page-popup" class="popup dialog"><div class="dialog-components"><h2>Link to this Page</h2><ul style="height: 210px; display: none;" class="page-menu"><li class="selected"><button>Link to this Page</button></li></ul><div class="page-body"><div style="height: 104px;" class="panel-body"><form id="link-page-popup-form" class="aui"><fieldset><div><label for="link-popup-field-link">Link:</label><input id="link-popup-field-link" readonly="readonly" value="http://www.openehr.org/wiki/display/spec/Ocean+Informatics+vEHR+Service+Interface" '="" class="text" type="text"></div><div><label for="link-popup-field-tiny-link">Tiny Link:</label><input id="link-popup-field-tiny-link" readonly="readonly" value="http://www.openehr.org/wiki/x/EoCi" '="" class="text" type="text"></div><div><label for="link-popup-field-wiki-markup">Wiki Markup:</label><input id="link-popup-field-wiki-markup" readonly="readonly" value="[spec:Ocean Informatics vEHR Service Interface]" '="" class="text" type="text"></div></fieldset></form></div></div><div class="button-panel"><button class="link-page-close-button">Close</button></div></div></div><div style="display: none;" id="content-hover-shadow"><div class="tl"></div><div class="tr"></div><div class="l"></div><div class="r"></div><div class="bl"></div><div class="br"></div><div class="b"></div></div><div style="display: none;" id="current-user-status-holder" class="current-user-latest-status"></div><div id="fancy_overlay"></div><div id="fancy_wrap"><div class="fancy_loading" id="fancy_loading"><div></div></div><div id="fancy_outer"><div id="fancy_inner"><div id="fancy_close"></div><div id="fancy_bg"><div class="fancy_bg fancy_bg_n"></div><div class="fancy_bg fancy_bg_ne"></div><div class="fancy_bg fancy_bg_e"></div><div class="fancy_bg fancy_bg_se"></div><div class="fancy_bg fancy_bg_s"></div><div class="fancy_bg fancy_bg_sw"></div><div class="fancy_bg fancy_bg_w"></div><div class="fancy_bg fancy_bg_nw"></div></div><a href="javascript:;" id="fancy_left"><span class="fancy_ico" id="fancy_left_ico"></span></a><a href="javascript:;" id="fancy_right"><span class="fancy_ico" id="fancy_right_ico"></span></a><div id="fancy_content"></div><div id="fancy_title"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="fancy_title" id="fancy_title_left"></td><td class="fancy_title" id="fancy_title_main"><div></div></td><td class="fancy_title" id="fancy_title_right"></td></tr></tbody></table></div></div></div></div></body></html>